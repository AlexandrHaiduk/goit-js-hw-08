{"mappings":"gfAAA,IAAAA,EAAAC,EAAA,SAEMC,EAASC,SAASC,cAAc,QAChCC,EAAiBF,SAASC,cAAc,4BACxCE,EAAeH,SAASC,cAAc,uBACtCG,EAAkB,sBAExBL,EAAOM,iBAAiB,SAAS,EAAAR,EAAAS,WAC7B,SAAAC,GACI,IAAMC,EAAO,CAAEC,MAAON,EAAaO,MAAOC,QAAST,EAAeQ,OAElEE,aAAaC,QAAQT,EAAiBU,KAAKC,UAAUP,G,GACtD,MAIPT,EAAOM,iBAAiB,UAAU,SAACE,GAC/BA,EAAIS,iBAEJC,QAAQC,IAAI,CAAET,MAAON,EAAaO,MAAOC,QAAST,EAAeQ,QAEjEX,EAAOoB,QAEPP,aAAaQ,WAAWhB,E,IAG5B,IASMiB,EATK,SAAAC,GACP,IACI,IAAMC,EAAeX,aAAaY,QAAQF,GAC1C,OAAwB,OAAjBC,OAAwBE,EAAWX,KAAKY,MAAMH,E,CACvD,MAAOI,GACLV,QAAQC,IAAIS,EAAMhB,Q,EAINiB,CAAKxB,GAErBiB,IACAlB,EAAaO,MAAQW,EAAYZ,MACjCP,EAAeQ,MAAQW,EAAYV,Q","sources":["src/js/03-feedback.js"],"sourcesContent":["import {throttle} from \"lodash\"\n\nconst formEl = document.querySelector('form')\nconst messageInputEl = document.querySelector('textarea[name=\"message\"]')\nconst emailInputEl = document.querySelector('input[name=\"email\"]')\nconst localStorageKey = 'feedback-form-state'\n\nformEl.addEventListener('input', throttle(\n    evt => {\n        const data = { email: emailInputEl.value, message: messageInputEl.value }\n        \n        localStorage.setItem(localStorageKey, JSON.stringify(data))\n    }, 500\n))\n\n\nformEl.addEventListener('submit', (evt) => {\n    evt.preventDefault();\n\n    console.log({ email: emailInputEl.value, message: messageInputEl.value })\n    \n    formEl.reset()\n\n    localStorage.removeItem(localStorageKey)\n})\n\nlet load = key => {\n    try {\n        const storageState = localStorage.getItem(key);\n        return storageState === null ? undefined: JSON.parse(storageState)\n    } catch (error) {\n        console.log(error.message);\n    }\n}\n\nconst storageData = load(localStorageKey)\n\nif (storageData) {\n    emailInputEl.value = storageData.email;\n    messageInputEl.value = storageData.message\n}"],"names":["$1WSnx","parcelRequire","$b00c40859be242c5$var$formEl","document","querySelector","$b00c40859be242c5$var$messageInputEl","$b00c40859be242c5$var$emailInputEl","$b00c40859be242c5$var$localStorageKey","addEventListener","throttle","evt","data","email","value","message","localStorage","setItem","JSON","stringify","preventDefault","console","log","reset","removeItem","$b00c40859be242c5$var$storageData","key","storageState","getItem","undefined","parse","error","$b00c40859be242c5$var$load"],"version":3,"file":"03-feedback.9a578f61.js.map"}