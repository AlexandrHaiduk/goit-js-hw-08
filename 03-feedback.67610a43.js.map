{"mappings":"oeAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,EAASC,SAASC,cAAc,QAChCC,EAAiBF,SAASC,cAAc,4BACxCE,EAAeH,SAASC,cAAc,uBAG5CF,EAAOK,iBAAiB,SAAS,EAAAP,EAAAQ,WAC7BC,IACI,MAAMC,EAAO,CAAEC,MAAOL,EAAaM,MAAOC,QAASR,EAAeO,OAElEE,aAAaC,QANG,sBAMsBC,KAAKC,UAAUP,GAAM,GAC5D,MAIPR,EAAOK,iBAAiB,UAAWE,IAC/BA,EAAIS,iBAEJC,QAAQC,IAAI,CAAET,MAAOL,EAAaM,MAAOC,QAASR,EAAeO,QAEjEV,EAAOmB,QAEPP,aAAaQ,WAlBO,sBAkBoB,IAY5C,MAAMC,EATK,CAAAC,IACP,IACI,MAAMC,EAAeX,aAAaY,QAAQF,GAC1C,OAAwB,OAAjBC,OAAwBE,EAAWX,KAAKY,MAAMH,E,CACvD,MAAOI,GACLV,QAAQC,IAAIS,EAAMhB,Q,GAINiB,CA9BI,uBAgCpBP,IACAjB,EAAaM,MAAQW,EAAYZ,MACjCN,EAAeO,MAAQW,EAAYV","sources":["src/js/03-feedback.js"],"sourcesContent":["import {throttle} from \"lodash\"\n\nconst formEl = document.querySelector('form')\nconst messageInputEl = document.querySelector('textarea[name=\"message\"]')\nconst emailInputEl = document.querySelector('input[name=\"email\"]')\nconst localStorageKey = 'feedback-form-state'\n\nformEl.addEventListener('input', throttle(\n    evt => {\n        const data = { email: emailInputEl.value, message: messageInputEl.value }\n        \n        localStorage.setItem(localStorageKey, JSON.stringify(data))\n    }, 500\n))\n\n\nformEl.addEventListener('submit', (evt) => {\n    evt.preventDefault();\n\n    console.log({ email: emailInputEl.value, message: messageInputEl.value })\n    \n    formEl.reset()\n\n    localStorage.removeItem(localStorageKey)\n})\n\nlet load = key => {\n    try {\n        const storageState = localStorage.getItem(key);\n        return storageState === null ? undefined: JSON.parse(storageState)\n    } catch (error) {\n        console.log(error.message);\n    }\n}\n\nconst storageData = load(localStorageKey)\n\nif (storageData) {\n    emailInputEl.value = storageData.email;\n    messageInputEl.value = storageData.message\n}"],"names":["$kEUo3","parcelRequire","$945622fd0f572e60$var$formEl","document","querySelector","$945622fd0f572e60$var$messageInputEl","$945622fd0f572e60$var$emailInputEl","addEventListener","throttle","evt","data","email","value","message","localStorage","setItem","JSON","stringify","preventDefault","console","log","reset","removeItem","$945622fd0f572e60$var$storageData","key","storageState","getItem","undefined","parse","error","$945622fd0f572e60$var$load"],"version":3,"file":"03-feedback.67610a43.js.map"}